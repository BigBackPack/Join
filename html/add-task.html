<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex" />

    <!-- css links -->
    <link rel="stylesheet" href="../../css/global-style.css">
    <link rel="stylesheet" href="../css/add-task-style.css">

    <!-- js links -->
    <script src="../js/template-loader.js"></script>
    <script src="../js/add-task-script.js"></script>

    <title>JOIN Add Task</title>
</head>

<body onload="includeHTML()">
    <div class="main-content-container">
        <div class="left-content-container">
            <div w3-include-html="templates/nav-bar-template.html"></div>
        </div>

        <div class="right-content-container">
            <div w3-include-html="templates/status-bar-template.html"></div>
            <div class="individual-content-conatiner">
                <h1>Add Task</h1>
                <form class="form-body" onsubmit="return handleSubmit()">

                    <div class="form-fields">
                        <div class="left-form">
                            <div class="flex-form">
                                <label for="title">Title<span class="required-star">*</span></label>
                                <input class="input-field" id="title" type="text" placeholder="Enter a title" required>
                            </div>
                            <div class="flex-form">
                                <label for="description">Description</label>
                                <textarea class="input-field" id="description" rows="5"
                                    placeholder="Enter a Description"></textarea>
                            </div> 
                            
                            
                            <div class="dropdown-container">
                                <label class="dropdown-label" for="dropdown">Assigned to</label>
                                <div class="dropdown">
                                    <input type="text" class="dropbtn" id="dropdown" placeholder="Select contacts to assign" onkeyup="filterDropdown('dropdownContent')" onclick="toggleDropdown('dropdownContent')">
                                    <div class="dropdown-content" id="dropdownContent">
                                        <!-- dynamic content for contacts -->
                                    </div>
                                </div>
                            </div>
                            <div id="selected-initials"></div>
                            
                            
                        </div>

                        <div class="separator"></div>

                        <div class="right-form">
                            <div class="flex-form">
                                <label for="date">Due date<span class="required-star">*</span></label>
                                <input class="input-field" type="date" id="date" required>
                            </div>
                            <div>

                                <label for="prio-urgent">Prio</label>
                                <div class="prio-buttons" id="prio-buttons">
                                    <input type="radio" name="priority" id="prio-urgent">
                                    <label for="prio-urgent">Urgent
                                        <img src="/img/prio_urgent_icon.svg" alt="Urgent Icon" class="prio-icon">

                                    </label>
                                    <input type="radio" name="priority" id="prio-medium" checked>
                                    <label for="prio-medium">Medium
                                        <img src="/img/prio_medium_icon.svg" alt="Medium Icon" class="prio-icon">

                                    </label>
                                    <input type="radio" name="priority" id="prio-low">
                                    <label for="prio-low">Low
                                        <img src="/img/prio_low_icon.svg" alt="Low Icon" class="prio-icon">

                                    </label>
                                </div>
                            </div>

                            <div class="dropdown-container">
                                <label for="dropdownCategory">Category<span class="required-star">*</span></label>
                                <div class="dropdown">
                                    <div class="dropbtn" id="dropdownCategoryButton" onclick="toggleDropdown('dropdownCategoryContent')">Select a category</div>
                                    <div class="dropdown-content" id="dropdownCategoryContent">
                                        <a href="#" data-value="option1" onclick="selectCategory('Option 1')">Option 1</a>
                                        <a href="#" data-value="option2" onclick="selectCategory('Option 2')">Option 2</a>
                                        <a href="#" data-value="option3" onclick="selectCategory('Option 3')">Option 3</a>
                                        <a href="#" data-value="option4" onclick="selectCategory('Option 4')">Option 4</a>
                                    </div>
                                    <p id="required-text" class="required-text">Please select a category.</p>
                                </div>
                            </div>


                            <div class="subtask-label">
                                <label for="subtask-input">Subtask</label>
                                <div class="input-container">
                                    <input type="text" id="subtask-input" placeholder="Add new subtask"
                                        onfocus="showIcons()" onblur="hideIconsIfEmpty()">
                                    <span class="icon" id="plus-icon" onclick="focusInput()">
                                        <img class="plus-icon-style" src="/img/plus_black_icon.svg">
                                    </span>
                                    <span class="icon hidden" id="x-icon" onclick="clearInput()">
                                        <img class="icon-style" src="/img/close_icon.svg">
                                    </span>
                                    <span class="icon hidden" id="tick-icon" onclick="displayText()">
                                        <img class="icon-style" src="/img/check_black_icon.svg">
                                    </span>
                                </div>
                                <div id="textDisplay" class="text-display">
                                    <ul id="textList"></ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-footer">
                        <div><span class="required-star">*</span> This field is required</div>
                        <div class="form-buttons">
                            <button onclick="clearForm()" type="button" class="secondary-button">Clear</button>
                            <button class="primary-button">Create Task</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

</body>

</html>